# polygon
Simple tool for local algorithmic problem testing.

## Install

Installing from source 
```
go install github.com/GlazedCurd/polygon
```

Put templates in`templates` subdirectory of the polygon home directory, by default it is `~/polygon`, but that could be overridden by `POLYGON_HOME` environment variable.

## Usage
First, you should initialize your project with one of the templates from your `$POLYGON_HOME/templates` folder.

Polygon supports two scenarios:
- check with the manually prepared test
- check with automatic stress tests

If you want to create a manually prepared test you should add input and output files to the `manual_cases` folder. Files should be named `{testname}_in` for an input file and `{testname}_out` for an expected output file. The input file will be sent to the stdin of your decision and the result of the execution will be compared with the expected output.

Usage example:
```
$ polygon check main
INFO Starting build command
INFO Build Command done successfully
INFO Processing test 1
INFO OK
INFO Processing test 2
INFO OK
INFO Processing test 3
INFO OK
INFO Processing test 4
INFO FAILED
INFO Expected: "0"
INFO Got: "5"
INFO Diff: 05
```

If you want to check a lot of autogenerated tests - you can use stress tests. Stress tests allow you to generate input for the test with `genrator.py` and then compare the results of your "main" solution and "light" solution. All failed test cases found in the stress test will be stored in `generated_cases` and later be used for `check`.

```
polygon stress 10
```
If you want to check your main solution for generated tests
```
polygon check main generated
```

If you want to check your "control" solution on a manual cases
```
polygon check light
```

## Create your own template

You can make a copy of one of the templates to create your own template or edit the ready one. Just put it in `templates` folder and everything should work. 
You can edit the config to support your favorite language or compiler.
```
{
    "main":{
        "build_cmd":{
            "cmd":  "go",
            "args": "build -o debug.o"
        },
        "run_cmd": {
            "cmd": "./debug.o"
        }
    },
    "light": {
        "run_cmd": {
            "cmd":  "python3",
            "args": "base_solver.py"
        }
    },
    "input_generator": {
        "cmd":  "python3",
        "args": "generator.py {seed}"
    }
}
```
